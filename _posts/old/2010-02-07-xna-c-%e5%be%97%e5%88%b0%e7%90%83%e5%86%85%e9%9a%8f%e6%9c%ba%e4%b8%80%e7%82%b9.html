---
layout: post
status: publish
published: true
title: XNA C# 得到球内随机一点
author: Windy Darian

  
  



excerpt: '经过总结,在立方体中取随机点再剔除是最快的方法,所以,找到球内的随机一点,只需如此如此：<br />using System;<br />using
  System.Collections.Generic;<br />using System.Linq;<br />using Microsoft.Xna.Framework;<br
  /><br />...

'
wordpress_id: 234

date: '2010-02-07 19:33:40 +0900'
date_gmt: '2010-02-07 11:33:40 +0900'
categories:
- 中文
tags:
- C#
- XNA
comments:
- id: 40
  author: 大地无敌的亲妹妹
  
  author_url: ''
  date: '2010-02-12 12:07:51 +0900'
  date_gmt: '2010-02-12 04:07:51 +0900'
  content: '呃

'
---
<p>经过总结,在立方体中取随机点再剔除是最快的方法,所以,找到球内的随机一点,只需如此如此：
<p class="code"><code>using&nbsp;System;<br />using&nbsp;System.Collections.Generic;<br />using&nbsp;System.Linq;<br />using&nbsp;Microsoft.Xna.Framework;</p>
<p>namespace&nbsp;GameHelpers<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;class&nbsp;GameHelper<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;Random&nbsp;Random&nbsp;=&nbsp;new&nbsp;Random();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;float&nbsp;RandomNext(float&nbsp;min,&nbsp;float&nbsp;max)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(min&nbsp;+&nbsp;(float)((max&nbsp;-&nbsp;min)&nbsp;*&nbsp;Random.NextDouble()));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;///&nbsp;<br />
<summary>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;///&nbsp;得到球状区域内的随机一点<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;///&nbsp;</summary>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;///&nbsp;
<param&nbsp;name="center">球心</param>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;///&nbsp;
<param&nbsp;name="radius">半径</param>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;///&nbsp;<returns>结果</returns><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;Vector3&nbsp;RandomPointInBall(Vector3&nbsp;center,&nbsp;float&nbsp;radius)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vector3&nbsp;a;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;new&nbsp;Vector3(RandomNext(-radius,&nbsp;radius),&nbsp;RandomNext(-radius,&nbsp;radius),&nbsp;RandomNext(-radius,&nbsp;radius));</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;while&nbsp;(Vector3.Distance(a,&nbsp;Vector3.Zero)&nbsp;>&nbsp;radius);//直到随机出的点在球内..<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;a&nbsp;+&nbsp;center;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></code></p>
